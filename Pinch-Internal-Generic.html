<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Pinch.Internal.Generic</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><script src="haddock-util.js" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
window.onload = function () {pageLoad();setSynopsis("mini_Pinch-Internal-Generic.html");};
//]]>
</script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="https://github.com/abhinav/pinch/tree/master/src/Pinch/Internal/Generic.hs">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption">pinch-0.2.0.1: An alternative implementation of Thrift for Haskell.</p></div><div id="content"><div id="module-header"><table class="info"><tr><th>Copyright</th><td>(c) Abhinav Gupta 2015</td></tr><tr><th>License</th><td>BSD3</td></tr><tr><th>Maintainer</th><td>Abhinav Gupta &lt;mail@abhinavg.net&gt;</td></tr><tr><th>Stability</th><td>experimental</td></tr><tr><th>Safe Haskell</th><td>None</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">Pinch.Internal.Generic</p></div><div id="description"><p class="caption">Description</p><div class="doc"><p>Implements support for automatically deriving Pinchable instances for types
 that implement <code>Generic</code> and follow a specific pattern.</p></div></div><div id="synopsis"><p id="control.syn" class="caption expander" onclick="toggleSection('syn')">Synopsis</p><ul id="section.syn" class="hide" onclick="toggleSection('syn')"><li class="src short"><span class="keyword">newtype</span> <a href="#t:Field">Field</a> n a = <a href="#v:Field">Field</a> a</li><li class="src short"><a href="#v:getField">getField</a> :: <a href="Pinch-Internal-Generic.html#t:Field">Field</a> n a -&gt; a</li><li class="src short"><a href="#v:putField">putField</a> :: a -&gt; <a href="Pinch-Internal-Generic.html#t:Field">Field</a> n a</li><li class="src short"><a href="#v:field">field</a> :: <a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/Data-Functor.html#t:Functor">Functor</a> f =&gt; (a -&gt; f b) -&gt; <a href="Pinch-Internal-Generic.html#t:Field">Field</a> n a -&gt; f (<a href="Pinch-Internal-Generic.html#t:Field">Field</a> n b)</li><li class="src short"><span class="keyword">data</span> <a href="#t:Enumeration">Enumeration</a> n = <a href="#v:Enumeration">Enumeration</a></li><li class="src short"><a href="#v:enum">enum</a> :: <a href="Pinch-Internal-Generic.html#t:Enumeration">Enumeration</a> n</li><li class="src short"><span class="keyword">data</span> <a href="#t:Void">Void</a> = <a href="#v:Void">Void</a></li></ul></div><div id="interface"><h1>Documentation</h1><div class="top"><p class="src"><span class="keyword">newtype</span> <a name="t:Field" class="def">Field</a> n a <a href="https://github.com/abhinav/pinch/tree/master/src/Pinch/Internal/Generic.hs#L127" class="link">Source</a></p><div class="doc"><p>Fields of data types that represent structs, unions, and exceptions
 should be wrapped inside <code><a href="Pinch-Internal-Generic.html#t:Field">Field</a></code> and tagged with the field identifier.</p><pre>data Foo = Foo (Field 1 Text) (Field 2 (Maybe Int32)) deriving Generic
instance Pinchable Foo</pre><pre>data A = A (Field 1 Int32) | B (Field 2 Text) deriving Generic
instance Pinchable Foo</pre><p>Fields which hold <code>Maybe</code> values are treated as optional. All fields values
 must be <code><a href="Pinch-Internal-Pinchable.html#t:Pinchable">Pinchable</a></code> to automatically derive a <code>Pinchable</code> instance for the
 new data type.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a name="v:Field" class="def">Field</a> a</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs instances"><p id="control.i:Field" class="caption collapser" onclick="toggleSection('i:Field')">Instances</p><div id="section.i:Field" class="show"><table><tr><td class="src clearfix"><span class="inst-left"><a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/Data-Functor.html#t:Functor">Functor</a> (<a href="Pinch-Internal-Generic.html#t:Field">Field</a> n)</span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/Data-Foldable.html#t:Foldable">Foldable</a> (<a href="Pinch-Internal-Generic.html#t:Field">Field</a> n)</span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/Data-Traversable.html#t:Traversable">Traversable</a> (<a href="Pinch-Internal-Generic.html#t:Field">Field</a> n)</span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/Prelude.html#t:Bounded">Bounded</a> a =&gt; <a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/Prelude.html#t:Bounded">Bounded</a> (<a href="Pinch-Internal-Generic.html#t:Field">Field</a> n a)</span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/Prelude.html#t:Enum">Enum</a> a =&gt; <a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/Prelude.html#t:Enum">Enum</a> (<a href="Pinch-Internal-Generic.html#t:Field">Field</a> n a)</span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/Data-Eq.html#t:Eq">Eq</a> a =&gt; <a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/Data-Eq.html#t:Eq">Eq</a> (<a href="Pinch-Internal-Generic.html#t:Field">Field</a> n a)</span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/Data-Ord.html#t:Ord">Ord</a> a =&gt; <a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/Data-Ord.html#t:Ord">Ord</a> (<a href="Pinch-Internal-Generic.html#t:Field">Field</a> n a)</span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/Text-Show.html#t:Show">Show</a> a =&gt; <a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/Text-Show.html#t:Show">Show</a> (<a href="Pinch-Internal-Generic.html#t:Field">Field</a> n a)</span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/GHC-Generics.html#t:Generic">Generic</a> (<a href="Pinch-Internal-Generic.html#t:Field">Field</a> n a)</span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/Data-Monoid.html#t:Monoid">Monoid</a> a =&gt; <a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/Data-Monoid.html#t:Monoid">Monoid</a> (<a href="Pinch-Internal-Generic.html#t:Field">Field</a> n a)</span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="http://hackage.haskell.org/packages/archive/deepseq/latest/doc/html/Control-DeepSeq.html#t:NFData">NFData</a> a =&gt; <a href="http://hackage.haskell.org/packages/archive/deepseq/latest/doc/html/Control-DeepSeq.html#t:NFData">NFData</a> (<a href="Pinch-Internal-Generic.html#t:Field">Field</a> n a)</span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left">(<a href="Pinch-Internal-Pinchable.html#t:Pinchable">Pinchable</a> a, <a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/GHC-TypeLits.html#t:KnownNat">KnownNat</a> n) =&gt; <a href="Pinch-Internal-Pinchable.html#t:GPinchable">GPinchable</a> (<a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/GHC-Generics.html#t:K1">K1</a> i (<a href="Pinch-Internal-Generic.html#t:Field">Field</a> n (<a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/Data-Maybe.html#t:Maybe">Maybe</a> a)))</span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left">(<a href="Pinch-Internal-Pinchable.html#t:Pinchable">Pinchable</a> a, <a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/GHC-TypeLits.html#t:KnownNat">KnownNat</a> n) =&gt; <a href="Pinch-Internal-Pinchable.html#t:GPinchable">GPinchable</a> (<a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/GHC-Generics.html#t:K1">K1</a> i (<a href="Pinch-Internal-Generic.html#t:Field">Field</a> n a))</span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="keyword">type</span> <a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/GHC-Generics.html#t:Rep">Rep</a> (<a href="Pinch-Internal-Generic.html#t:Field">Field</a> n a)</span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="keyword">type</span> <a href="Pinch-Internal-Pinchable.html#t:GTag">GTag</a> (<a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/GHC-Generics.html#t:K1">K1</a> i (<a href="Pinch-Internal-Generic.html#t:Field">Field</a> n (<a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/Data-Maybe.html#t:Maybe">Maybe</a> a))) = <a href="Pinch-Internal-TType.html#t:TStruct">TStruct</a></span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="keyword">type</span> <a href="Pinch-Internal-Pinchable.html#t:GTag">GTag</a> (<a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/GHC-Generics.html#t:K1">K1</a> i (<a href="Pinch-Internal-Generic.html#t:Field">Field</a> n a)) = <a href="Pinch-Internal-TType.html#t:TStruct">TStruct</a></span></td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><a name="v:getField" class="def">getField</a> :: <a href="Pinch-Internal-Generic.html#t:Field">Field</a> n a -&gt; a <a href="https://github.com/abhinav/pinch/tree/master/src/Pinch/Internal/Generic.hs#L136" class="link">Source</a></p><div class="doc"><p>Gets the current value of a field.</p><pre>let Foo a' _ = {- ... -}
    a = getField a'</pre></div></div><div class="top"><p class="src"><a name="v:putField" class="def">putField</a> :: a -&gt; <a href="Pinch-Internal-Generic.html#t:Field">Field</a> n a <a href="https://github.com/abhinav/pinch/tree/master/src/Pinch/Internal/Generic.hs#L142" class="link">Source</a></p><div class="doc"><p>Puts a value inside a field.</p><pre>Foo (putField &quot;Hello&quot;) (putField (Just 42))</pre></div></div><div class="top"><p class="src"><a name="v:field" class="def">field</a> :: <a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/Data-Functor.html#t:Functor">Functor</a> f =&gt; (a -&gt; f b) -&gt; <a href="Pinch-Internal-Generic.html#t:Field">Field</a> n a -&gt; f (<a href="Pinch-Internal-Generic.html#t:Field">Field</a> n b) <a href="https://github.com/abhinav/pinch/tree/master/src/Pinch/Internal/Generic.hs#L149" class="link">Source</a></p><div class="doc"><p>A lens on <code>Field</code> wrappers for use with the lens library.</p><pre>person &amp; name . field .~ &quot;new value&quot;</pre></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a name="t:Enumeration" class="def">Enumeration</a> n <a href="https://github.com/abhinav/pinch/tree/master/src/Pinch/Internal/Generic.hs#L184" class="link">Source</a></p><div class="doc"><p>Data types that represent Thrift enums must have one constructor for each
 enum item accepting an <code><a href="Pinch-Internal-Generic.html#t:Enumeration">Enumeration</a></code> object tagged with the corresponding
 enum value.</p><pre>data Role = RoleUser (Enumeration 1) | RoleAdmin (Enumeration 2)
  deriving Generic
instance Pinchable Role</pre></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a name="v:Enumeration" class="def">Enumeration</a></td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs instances"><p id="control.i:Enumeration" class="caption collapser" onclick="toggleSection('i:Enumeration')">Instances</p><div id="section.i:Enumeration" class="show"><table><tr><td class="src clearfix"><span class="inst-left"><a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/Data-Eq.html#t:Eq">Eq</a> (<a href="Pinch-Internal-Generic.html#t:Enumeration">Enumeration</a> n)</span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/Data-Ord.html#t:Ord">Ord</a> (<a href="Pinch-Internal-Generic.html#t:Enumeration">Enumeration</a> n)</span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/Text-Show.html#t:Show">Show</a> (<a href="Pinch-Internal-Generic.html#t:Enumeration">Enumeration</a> n)</span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/GHC-Generics.html#t:Generic">Generic</a> (<a href="Pinch-Internal-Generic.html#t:Enumeration">Enumeration</a> n)</span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="http://hackage.haskell.org/packages/archive/deepseq/latest/doc/html/Control-DeepSeq.html#t:NFData">NFData</a> (<a href="Pinch-Internal-Generic.html#t:Enumeration">Enumeration</a> n)</span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/GHC-TypeLits.html#t:KnownNat">KnownNat</a> n =&gt; <a href="Pinch-Internal-Pinchable.html#t:GPinchable">GPinchable</a> (<a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/GHC-Generics.html#t:K1">K1</a> i (<a href="Pinch-Internal-Generic.html#t:Enumeration">Enumeration</a> n))</span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="keyword">type</span> <a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/GHC-Generics.html#t:Rep">Rep</a> (<a href="Pinch-Internal-Generic.html#t:Enumeration">Enumeration</a> n)</span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="keyword">type</span> <a href="Pinch-Internal-Pinchable.html#t:GTag">GTag</a> (<a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/GHC-Generics.html#t:K1">K1</a> i (<a href="Pinch-Internal-Generic.html#t:Enumeration">Enumeration</a> n)) = <a href="Pinch-Internal-TType.html#t:TEnum">TEnum</a></span></td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><a name="v:enum" class="def">enum</a> :: <a href="Pinch-Internal-Generic.html#t:Enumeration">Enumeration</a> n <a href="https://github.com/abhinav/pinch/tree/master/src/Pinch/Internal/Generic.hs#L193" class="link">Source</a></p><div class="doc"><p>Convenience function to construct <code><a href="Pinch-Internal-Generic.html#t:Enumeration">Enumeration</a></code> objects.</p><pre>let role = RoleUser enum</pre></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a name="t:Void" class="def">Void</a> <a href="https://github.com/abhinav/pinch/tree/master/src/Pinch/Internal/Generic.hs#L228" class="link">Source</a></p><div class="doc"><p>Represents a <code>void</code> result for methods.</p><p>This should be used as an element in a response union along with <code><a href="Pinch-Internal-Generic.html#t:Field">Field</a></code>
 tags.</p><p>For a method,</p><pre>void setValue(..) throws
  (1: ValueAlreadyExists alreadyExists,
   2: InternalError internalError)</pre><p>Something similar to the following can be used.</p><pre>data SetValueResponse
  = SetValueAlreadyExists (Field 1 ValueAlreadyExists)
  | SetValueInternalError (Field 2 InternalError)
  | SetValueSuccess Void
  deriving (Generic)

instance Pinchable SetValueResponse</pre></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a name="v:Void" class="def">Void</a></td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs instances"><p id="control.i:Void" class="caption collapser" onclick="toggleSection('i:Void')">Instances</p><div id="section.i:Void" class="show"><table><tr><td class="src clearfix"><span class="inst-left"><a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/Data-Eq.html#t:Eq">Eq</a> <a href="Pinch-Internal-Generic.html#t:Void">Void</a></span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/Data-Ord.html#t:Ord">Ord</a> <a href="Pinch-Internal-Generic.html#t:Void">Void</a></span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/Text-Show.html#t:Show">Show</a> <a href="Pinch-Internal-Generic.html#t:Void">Void</a></span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/GHC-Generics.html#t:Generic">Generic</a> <a href="Pinch-Internal-Generic.html#t:Void">Void</a></span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="Pinch-Internal-Pinchable.html#t:GPinchable">GPinchable</a> (<a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/GHC-Generics.html#t:K1">K1</a> i <a href="Pinch-Internal-Generic.html#t:Void">Void</a>)</span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="keyword">type</span> <a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/GHC-Generics.html#t:Rep">Rep</a> <a href="Pinch-Internal-Generic.html#t:Void">Void</a></span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="keyword">type</span> <a href="Pinch-Internal-Pinchable.html#t:GTag">GTag</a> (<a href="http://hackage.haskell.org/packages/archive/base/latest/doc/html/GHC-Generics.html#t:K1">K1</a> i <a href="Pinch-Internal-Generic.html#t:Void">Void</a>) = <a href="Pinch-Internal-TType.html#t:TStruct">TStruct</a></span></td><td class="doc empty">&nbsp;</td></tr></table></div></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.16.1</p></div></body></html>